!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.CKEditor5=t():(e.CKEditor5=e.CKEditor5||{},e.CKEditor5.blankdiv=t())}(self,(()=>(()=>{var e={"ckeditor5/src/core.js":(e,t,i)=>{e.exports=i("dll-reference CKEditor5.dll")("./src/core.js")},"ckeditor5/src/ui.js":(e,t,i)=>{e.exports=i("dll-reference CKEditor5.dll")("./src/ui.js")},"ckeditor5/src/utils.js":(e,t,i)=>{e.exports=i("dll-reference CKEditor5.dll")("./src/utils.js")},"ckeditor5/src/widget.js":(e,t,i)=>{e.exports=i("dll-reference CKEditor5.dll")("./src/widget.js")},"dll-reference CKEditor5.dll":e=>{"use strict";e.exports=CKEditor5.dll}},t={};function i(l){var n=t[l];if(void 0!==n)return n.exports;var a=t[l]={exports:{}};return e[l](a,a.exports,i),a.exports}i.d=(e,t)=>{for(var l in t)i.o(t,l)&&!i.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var l={};return(()=>{"use strict";i.d(l,{default:()=>u});var e=i("ckeditor5/src/core.js");class t extends e.Command{execute(e){const t=this.editor.model,i=function(e){const t=e.getSelectedElement();if(t&&t.is("element","blankdiv"))return t;return null}(t.document.selection);t.change((l=>{i?(l.setAttribute("align",e.align,i),l.setAttribute("blankdiv",e.blankdiv,i)):t.insertContent(function(e,t){const i=e.createElement("blankdiv");return e.setAttribute("align",t.align,i),e.setAttribute("blankdiv",t.blankdiv,i),i}(l,e))}))}refresh(){const e=this.editor.model,t=e.document.selection,i=(e.schema.checkChild(t.focus.parent,"blankdiv"),e.schema.findAllowedParent(t.getFirstPosition(),"blankdiv"));this.isEnabled=null!==i}}var n=i("ckeditor5/src/widget.js"),a=i("ckeditor5/src/utils.js");class s extends e.Plugin{static get pluginName(){return"BlankdivEditing"}static get requires(){return[n.Widget]}init(){this._defineSchema(),this._defineConverters(),this.editor.commands.add("insertBlankdiv",new t(this.editor))}_defineSchema(){this.editor.model.schema.register("blankdiv",{isObject:!0,allowWhere:"$block",allowAttributes:["blankdiv","align","class"]})}_defineConverters(){const e=this.editor,t=this.editor.conversion;e.data.registerRawContentMatcher({name:"div",classes:"wysiwyg_blankdiv"}),t.attributeToAttribute({model:{name:"blankdiv",key:"align",values:["half-image-right","half-image-left","half-image-right-full","half-image-left-full","full-bleed-image"]},view:{"half-image-right":{key:"class",value:"half-image-right"},"half-image-right-full":{key:"class",value:"half-image-right-full"},"half-image-left":{key:"class",value:"half-image-left"},"half-image-left-full":{key:"class",value:"half-image-left-full"},"full-bleed-image":{key:"class",value:"full-bleed-image"}}}),t.for("upcast").elementToElement({view:{name:"div",classes:"wysiwyg_blankdiv"},model:(e,{writer:t})=>{const i=e.getClassNames().find((e=>"wysiwyg_blankdiv"!==e));return t.createElement("blankdiv",{align:i,blankdiv:e.getCustomProperty("$rawContent")})}}),t.for("dataDowncast").elementToElement({model:"blankdiv",view:(e,{writer:t})=>{let i={class:"wysiwyg_blankdiv "};const l=e.getAttribute("align");return i.class=i.class+l,t.createRawElement("div",{class:i.class},(function(t){t.innerHTML=e.getAttribute("blankdiv")||""}))}}),t.for("editingDowncast").elementToStructure({model:{name:"blankdiv",attributes:["blankdiv","align"]},view:(t,{writer:i})=>{let l,s={class:"wysiwyg_blankdiv "};const r=t.getAttribute("align");s.class=s.class+r;const o=i.createRawElement("div",{class:"wysiwyg_blankdiv__content-wrapper"},(function(i){l=i,function({editor:e,domElement:t,modelElement:i}){t.textContent="";const l=t.ownerDocument;t.append(function({domDocument:e,modelElement:t,editor:i}){const l=t.getAttribute("blankdiv"),n=l.length>0?"Preview available":"Empty snippet content",s=(0,a.createElement)(e,"div",{class:"ck ck-reset_all raw-html-embed__preview-placeholder"},n),r=(0,a.createElement)(e,"div",{class:"raw-html-embed__preview-content",dir:i.locale.contentLanguageDirection}),o=e.createRange(),c=o.createContextualFragment(l);r.appendChild(c);const d=(0,a.createElement)(e,"div",{class:"raw-html-embed__preview"},[s,r]);return d}({domDocument:l,modelElement:i,editor:e}))}({editor:e,domElement:i,modelElement:t,props:undefined})})),c=i.createContainerElement("div",{class:s.class,"data-html-embed-label":"HTML snippet"},o);return(0,n.toWidget)(c,i,{label:"HTML snippet",hasSelectionHandle:!0})}})}}var r=i("ckeditor5/src/ui.js");class o extends r.View{constructor(t){super(t.locale);const i=t.model.document.selection.getSelectedElement();let l="half-image-left",n="";i&&"blankdiv"==i.name&&(l=i.getAttribute("align"),n=i.getAttribute("blankdiv")),this.selectLabel=new r.Template({tag:"label",attributes:{for:"align-dropdown"},children:["Align Option:"]}),this.select=new r.Template({tag:"select",attributes:{id:"align-dropdown",class:"ck-balloon-panel__select"},children:[new r.Template({tag:"option",attributes:{value:"half-image-right",selected:!(!l||"half-image-right"!=l)},children:["Half Image Right"]}),new r.Template({tag:"option",attributes:{value:"half-image-right-full",selected:!(!l||"half-image-right-full"!=l)},children:["Full Bleed Right"]}),new r.Template({tag:"option",attributes:{value:"half-image-left",selected:!(!l||"half-image-left"!=l)},children:["Half Image Left"]}),new r.Template({tag:"option",attributes:{value:"half-image-left-full",selected:!(!l||"half-image-left-full"!=l)},children:["Full Bleed Left"]}),new r.Template({tag:"option",attributes:{value:"full-bleed-image",selected:!(!l||"full-bleed-image"!=l)},children:["Full Bleed"]})]}),this.scriptLabel=new r.Template({tag:"label",attributes:{for:"blankdiv"},children:["Script:"]}),this.script=new r.Template({tag:"textarea",attributes:{id:"blankdiv",rows:12},children:[n]}),this.saveButtonView=this._createButton("Save",e.icons.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton("Cancel",e.icons.cancel,"ck-button-cancel"),this.cancelButtonView.delegate("execute").to(this,"cancel"),this.setTemplate({tag:"form",attributes:{class:["ck","ck-blankdiv-form","ck-reset_all-excluded"],tabindex:"-1"},children:[this.selectLabel,this.select,this.scriptLabel,this.script,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),(0,r.submitHandler)({view:this})}_createInput(e){const t=new r.LabeledFieldView(this.locale,r.createLabeledInputText);return t.label=e,t}_createButton(e,t,i){const l=new r.ButtonView;return l.set({label:e,icon:t,tooltip:!0,class:i}),l}}class c extends e.Plugin{static get requires(){return[r.ContextualBalloon]}init(){const e=this.editor;this._balloon=this.editor.plugins.get(r.ContextualBalloon);const t=this.editor.editing.view.document;this.listenTo(t,"click",(()=>{this._getSelectedElement()&&(this.formView=this._createFormView(),this._showUI())})),e.ui.componentFactory.add("Blankdiv",(t=>{const i=e.commands.get("insertBlankdiv"),l=new r.ButtonView(t);return l.set({label:"Blankdiv",withText:!0,tooltip:!0}),l.bind("isOn","isEnabled").to(i,"value","isEnabled"),this.listenTo(l,"execute",(()=>{this.formView=this._createFormView(),this._showUI()})),l}))}_createFormView(){const e=this.editor,t=new o(e);return this.listenTo(t,"submit",(()=>{const i={align:t.element.querySelector("#align-dropdown").value,blankdiv:t.element.querySelector("#blankdiv").value};e.execute("insertBlankdiv",i),this._hideUI()})),this.listenTo(t,"cancel",(()=>{this._hideUI()})),(0,r.clickOutsideHandler)({emitter:t,activator:()=>this._balloon.visibleView===t,contextElements:[this._balloon.view.element],callback:()=>this._hideUI()}),t}_showUI(){this._balloon.add({view:this.formView,position:this._getBalloonPositionData()})}_hideUI(){this._balloon.remove(this.formView),this.editor.editing.view.focus()}_getSelectedElement(){const e=this.editor.model.document.selection.getSelectedElement();return!(!e||"blankdiv"!=e.name)&&e}_getBalloonPositionData(){const e=this.editor.editing.view,t=e.document;let i=null;return i=()=>e.domConverter.viewRangeToDom(t.selection.getFirstRange()),{target:i}}}class d extends e.Plugin{static get requires(){return[s,c]}}const u={Blankdiv:d}})(),l=l.default})()));