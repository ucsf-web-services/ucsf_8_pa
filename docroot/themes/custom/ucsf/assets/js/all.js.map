{"version":3,"sources":["all.js"],"names":["$","Drupal","behaviors","dieToolbardie","attach","context","window","matchMedia","addListener","event","matches","click","slickNav","settings","slicknav","duplicate","prependTo","label","openedSymbol","closedSymbol","height","css","desktopDropdownHeight","dropdown","each","self","mainHeight","childMenu","find","totalHeight","childHeight","clientHeight","width","searchMenuAction","e","preventDefault","toggleClass","focus","hover","hasClass","removeClass","fixExplorer","detectIE","addClass","hideAllMediaQueries","inclusionQuery","numberOfMediaQueries","currentQuery","index","rule","mediaText","exclusionQuery","rules","document","styleSheets","cssRules","console","dir","firstQueryIndex","queryIndex","numberOfRules","length","i","media","conditionText","log","ua","navigator","userAgent","msie","indexOf","parseInt","substring","trident","rv","jQuery"],"mappings":"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","file":"all.js","sourcesContent":["/* eslint-disable */\n(function ($) {\n    Drupal.behaviors.dieToolbardie = {\n        attach: function (context) {\n            window.matchMedia('(min-width: 975px)').addListener(function (event) {\n                event.matches ? $('#toolbar-item-administration', context).click() : $('.toolbar-item.is-active', context).click();\n            });\n        }\n    };\n\n\n    Drupal.behaviors.slickNav = {\n        attach: function (context, settings) {\n\n            $('#block-ucsf-main-menu').slicknav({\n                duplicate: false,\n                prependTo: '.slicknav-placeholder',\n                label: '',\n                openedSymbol: '<i class=\"fas fa-angle-up\">',\n                closedSymbol: '<i class=\"fas fa-angle-down\">',\n            });\n\n            var height = $(window).height();\n            $('#block-ucsf-main-menu').css({'height': height - 90});\n            $('.menu-parent-wrapper').css({'height': height - 150, 'overflow-y':'scroll'});\n        }\n    };\n\n    Drupal.behaviors.desktopDropdownHeight = {\n        attach: function (context, settings) {\n\n            // Set dropdown heights based on the content within.\n            var dropdown = $('[data-level=\"level-0\"]');\n\n            dropdown.each(function () {\n\n                var self = $(this);\n                var mainHeight = self.height();\n                var childMenu = self.find('.menu-child--wrapper');\n                var totalHeight = mainHeight;\n                var childHeight = 0;\n\n                childMenu.each(function () {\n                    childHeight = $(this)[0].clientHeight;\n                    if ((childHeight + 48) >= mainHeight) {\n                        totalHeight = childHeight;\n                    }\n                });\n                childMenu.each(function () {\n                    $(this).height(totalHeight);\n                });\n                self.height(totalHeight + 68);\n                self.find('.menu-child--label').width(totalHeight + 20);\n                //return false;\n            });\n        }\n    };\n\n    Drupal.behaviors.searchMenuAction = {\n\n        attach: function (context, settings) {\n            $('.menu-parent--wrapper .menu-item.search > a', context).click(function (e) {\n                e.preventDefault();\n                $('.wrapper--search-menu').toggleClass('active');\n                $('.menu-parent--wrapper .menu-item.search > a').toggleClass('active');\n                $('.wrapper--search-menu .home-search__form-input').focus();\n            });\n\n            $('.menu-parent--wrapper .menu-item', context).hover(function (e) {\n                if ($(this).hasClass('search')) {\n                    //console.log('search menu');\n                } else {\n                    $('.wrapper--search-menu').removeClass('active');\n                    $('.menu-parent--wrapper .menu-item.search > a').removeClass('active');\n                }\n            });\n        }\n    };\n\n    /**\n     * Idea came from Stackoverflow\n     * Basically wrap all your breakpoints not IE compatible with the body:not(.explorer) {} expression\n     * https://stackoverflow.com/questions/15388967/possible-to-disable-media-queries-or-force-a-resolution-reason-allow-an-iphon\n     * This wasn't viable since the breakpoint and call order was backward in the SCSS files of course!\n     */\n    Drupal.behaviors.fixExplorer = {\n        attach: function (context, settings) {\n\n            if (detectIE()) {\n                $('body').addClass('explorer');\n            }\n            //var inclusionQuery = '(min-width: 1050px)';\n            //hideAllMediaQueries(inclusionQuery);\n\n        }\n    };\n\n    /**\n     * This would be cool if it worked but I think the recursive is much deeper here.\n     * Could not get results I was expecting.\n     * @param inclusionQuery\n     */\n    function hideAllMediaQueries(inclusionQuery) {\n        var numberOfMediaQueries = 0;\n        var currentQuery = {index: 0, rule: null, mediaText: null};\n        //var inclusionQuery = \"(min-width: 0px)\";\n        var exclusionQuery = \"(min-width: 99999px)\";\n        //this might change so this seems fragile\n        var rules = document.styleSheets[2].cssRules;\n        console.dir(document.styleSheets[2].cssRules);\n        var firstQueryIndex = 0; // show this query\n        var queryIndex = 0;\n        var numberOfRules = rules != null ? rules.length : 0;\n\n        // loop through rules and hide media queries except selected\n        for (var i = 0; i < numberOfRules; i++) {\n            var rule = rules[i];\n\n            if (rule.media != null) {\n                if (queryIndex == firstQueryIndex) {\n                    currentQuery.mediaText = rule.conditionText;\n                    currentQuery.index = firstQueryIndex;\n                    currentQuery.rule = rule;\n                    rule.conditionText = inclusionQuery;\n                    console.log('keeping condition: ' +  currentQuery.mediaText);\n                }\n                else {\n                    rule.conditionText = exclusionQuery;\n                    console.log('removing condition: ' +  rule.conditionText);\n                }\n                queryIndex++;\n            }\n        }\n        numberOfMediaQueries = queryIndex;\n        console.log('numberOfMediaQueries: ' + numberOfMediaQueries);\n    }\n\n    /**\n     * detect IE\n     * returns version of IE or false, if browser is not Internet Explorer\n     */\n    function detectIE() {\n        var ua = window.navigator.userAgent;\n\n        var msie = ua.indexOf('MSIE ');\n        if (msie > 0) {\n            // IE 10 or older => return version number\n            return parseInt(ua.substring(msie + 5, ua.indexOf('.', msie)), 10);\n        }\n\n        var trident = ua.indexOf('Trident/');\n        if (trident > 0) {\n            // IE 11 => return version number\n            var rv = ua.indexOf('rv:');\n            return parseInt(ua.substring(rv + 3, ua.indexOf('.', rv)), 10);\n        }\n        // other browser\n        return false;\n    }\n\n})(jQuery);\n"]}