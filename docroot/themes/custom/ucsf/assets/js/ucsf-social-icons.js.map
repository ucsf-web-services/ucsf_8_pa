{"version":3,"sources":["ucsf-social-icons.js"],"names":["$","Drupal","behaviors","socialIconsMobile","attach","context","settings","window","once","each","$socialIcons","$iconPrint","has","lastScroll","hideAndShow","currentScroll","pageYOffset","removeClass","addClass","mobileDetect","event","matches","css","addEventListener","removeEventListener","mql","matchMedia","addListener","jQuery"],"mappings":";;AAAA,CAAC,UAACA,CAAD,EAAO;AACNC,SAAOC,SAAP,CAAiBC,iBAAjB,GAAqC;AACnCC,YAAQ,SAASA,MAAT,CAAgBC,OAAhB,EAAyBC,QAAzB,EAAmC;AACzCN,QAAEO,MAAF,EAAUF,OAAV,EAAmBG,IAAnB,CAAwB,qBAAxB,EAA+CC,IAA/C,CAAoD,YAAY;;AAE9D,YAAMC,eAAeV,EAAE,qBAAF,EAAyBK,OAAzB,CAArB;AACA,YAAMM,aAAaX,EAAE,IAAF,EAAQK,OAAR,EAAiBO,GAAjB,CAAqB,0BAArB,CAAnB;AACA;AACA,YAAIC,aAAa,CAAjB;;AAEA,YAAMC,cAAc,SAAdA,WAAc,GAAM;AACxB;AACA,cAAMC,gBAAgBR,OAAOS,WAA7B;AACA,cAAID,gBAAgBF,UAApB,EAAgC;AAC9B;AACAH,yBAAaO,WAAb,CAAyB,YAAzB;AACD,WAHD,MAGO;AACL;AACAP,yBAAaQ,QAAb,CAAsB,YAAtB;AACD;;AAEDL,uBAAaE,aAAb;AACD,SAZD;;AAcA;AACA,YAAMI,eAAe,SAAfA,YAAe,CAACC,KAAD,EAAW;AAC9B;AACA,cAAIA,MAAMC,OAAV,EAAmB;AACjB;AACAV,uBAAWW,GAAX,CAAe,SAAf,EAA0B,MAA1B;;AAEAf,mBAAOgB,gBAAP,CAAwB,QAAxB,EAAkCT,WAAlC;;AAEA;AACD,WAPD,MAOO;AACLP,mBAAOiB,mBAAP,CAA2B,QAA3B,EAAqCV,WAArC;AACA;AACAH,uBAAWW,GAAX,CAAe,SAAf,EAA0B,SAA1B;AACAZ,yBAAaO,WAAb,CAAyB,YAAzB;AACD;AACF,SAfD;;AAiBA;AACA,YAAMQ,MAAMC,WAAW,qBAAX,CAAZ;AACA;AACAP,qBAAaM,GAAb;AACA;AACAA,YAAIE,WAAJ,CAAgBR,YAAhB;AAED,OA9CD;AA+CD;AAjDkC,GAArC;AAmDD,CApDD,EAoDGS,MApDH","file":"ucsf-social-icons.js","sourcesContent":["(($) => {\n  Drupal.behaviors.socialIconsMobile = {\n    attach: function attach(context, settings) {\n      $(window, context).once(\"social-icon-context\").each(function () {\n\n        const $socialIcons = $(\".article-meta-share\", context);\n        const $iconPrint = $(\"li\", context).has('a[title=\"Print Article\"]');\n        // Toggle the .is-veisibl class on scroll.\n        let lastScroll = 0;\n\n        const hideAndShow = () => {\n          // calculate weather user is scrolling up or down\n          const currentScroll = window.pageYOffset;\n          if (currentScroll > lastScroll) {\n            // If scrolling down\n            $socialIcons.removeClass(\"is-visible\");\n          } else {\n            // If scrolling up\n            $socialIcons.addClass(\"is-visible\");\n          }\n\n          lastScroll = currentScroll;\n        };\n\n        // Only execute Social Navbar upscroll code in mobile\n        const mobileDetect = (event) => {\n          // Mobile\n          if (event.matches) {\n            // Remove print icon\n            $iconPrint.css(\"display\", \"none\");\n\n            window.addEventListener(\"scroll\", hideAndShow);\n\n            // Desktop\n          } else {\n            window.removeEventListener(\"scroll\", hideAndShow);\n            // Add print icon\n            $iconPrint.css(\"display\", \"initial\");\n            $socialIcons.removeClass(\"is-visible\");\n          }\n        };\n\n        // Use MatchMedia to ensure that Social Navbar upscroll is only happening in mobile\n        const mql = matchMedia(\"(max-width: 1049px)\");\n        // Detect mobile on page load.\n        mobileDetect(mql);\n        // Watch to see if the page size changes.\n        mql.addListener(mobileDetect);\n\n      });\n    }\n  };\n})(jQuery);\n"]}