{"version":3,"sources":["ucsf_element_fade.js"],"names":["excludeElements","Drupal","behaviors","fadeInImages","attach","context","settings","excludeSelectors","document","querySelectorAll","toString","forEach","element","classList","remove","elementFade","window","observer","IntersectionObserver","entries","entry","intersectionRatio","target","add","unobserve","observe"],"mappings":";;AAAA;;;AAGA,CAAC,YAAY;;AAEX;AACA,MAAMA,kBAAkB,CACtB,yBADsB,EAEtB,oCAFsB,EAGtB,sCAHsB,EAItB,wBAJsB,EAKtB,wBALsB,EAMtB,wBANsB,EAOtB,4CAPsB,EAQtB,8DARsB,EAStB,0BATsB,CAAxB;AAWA;AACAC,SAAOC,SAAP,CAAiBC,YAAjB,GAAgC;AAC9BC,YAAQ,gBAAUC,OAAV,EAAmBC,QAAnB,EAA6B;;AAEnC;AACA,UAAMC,mBAAmBC,SAASC,gBAAT,CAA0BT,gBAAgBU,QAAhB,EAA1B,CAAzB;AACAH,uBAAiBI,OAAjB,CAAyB;AAAA,eAAWC,QAAQC,SAAR,CAAkBC,MAAlB,CAAyB,cAAzB,CAAX;AAAA,OAAzB;;AAEA,UAAMC,cAAcP,SAASC,gBAAT,CAA0B,eAA1B,CAApB;AACA,UAAI,0BAA0BO,MAA9B,EAAsC;AACpC,YAAMC,WAAW,IAAIC,oBAAJ,CAAyB,mBAAW;AACnDC,kBAAQR,OAAR,CAAgB,iBAAS;AACvB,gBAAIS,MAAMC,iBAAN,GAA0B,CAA9B,EAAiC;AAC/B;AACAD,oBAAME,MAAN,CAAaT,SAAb,CAAuBU,GAAvB,CAA2B,2BAA3B;AACAN,uBAASO,SAAT,CAAmBJ,MAAME,MAAzB;AACD;AACF,WAND;AAOD,SARgB,CAAjB;;AAUAP,oBAAYJ,OAAZ,CAAoB,mBAAW;AAC7BM,mBAASQ,OAAT,CAAiBb,OAAjB;AACD,SAFD;AAGD;AACF;AAvB6B,GAAhC;AAyBD,CAxCD","file":"ucsf_element_fade.js","sourcesContent":["/**\n * Animation of elements based on location in the viewport.\n */\n(function () {\n\n  // Elements that should not be animated with a fade\n  const excludeElements = [\n    '.home-banner__image img',\n    'dom-twocolumn-layout .element-fade',\n    'dom-threecolumn-layout .element-fade',\n    '.column1 .element-fade',\n    '.column2 .element-fade',\n    '.column3 .element-fade',\n    '.field-taxonomy-banner-image .element-fade',\n    '.paragraph--type--gallery  :not(.slick-active) .element-fade',\n    '.topics-list__topics img'\n  ];\n  // element to be animated\n  Drupal.behaviors.fadeInImages = {\n    attach: function (context, settings) {\n\n      // Get the NodeList of all the selectors matching elements on the page.\n      const excludeSelectors = document.querySelectorAll(excludeElements.toString());\n      excludeSelectors.forEach(element => element.classList.remove('element-fade'));\n\n      const elementFade = document.querySelectorAll('.element-fade');\n      if ('IntersectionObserver' in window) {\n        const observer = new IntersectionObserver(entries => {\n          entries.forEach(entry => {\n            if (entry.intersectionRatio > 0) {\n              // adds the class responsible for animation on the first viewport appearance\n              entry.target.classList.add('element-fade--in-viewport');\n              observer.unobserve(entry.target);\n            }\n          })\n        })\n\n        elementFade.forEach(element => {\n          observer.observe(element);\n        });\n      }\n    }\n  }\n})();\n"]}