{"version":3,"sources":["ucsf_header_region_subnav.js"],"names":["$","$header","$subnavToggle","has","addClass","mobileDetect","event","console","log","matches","attr","on","$this","toggleClass","preventDefault","removeAttr","off","mql","matchMedia","addListener","jQuery"],"mappings":";;AAAA,CAAE,aAAK;;AAEL;AACAA,IAAE,YAAM;AACN;AACA,QAAMC,UAAUD,EAAE,yBAAF,CAAhB;AACA;AACA,QAAME,gBAAgBF,EAAE,wBAAF,CAAtB;AACA;AACAC,YAAQE,GAAR,CAAY,wBAAZ,EAAsCC,QAAtC,CAA+C,oCAA/C;;AAEA;AACA,QAAMC,eAAe,SAAfA,YAAe,CAACC,KAAD,EAAW;AAC9BC,cAAQC,GAAR,CAAY,SAAZ;;AAEA;AACA,UAAIF,MAAMG,OAAV,EAAmB;AACjBP,sBAAcQ,IAAd,CAAmB,eAAnB,EAAoC,OAApC;AACAH,gBAAQC,GAAR,CAAY,QAAZ;;AAEA;AACAN,sBAAcS,EAAd,CAAiB,OAAjB,EAA0B,UAASL,KAAT,EAAgB;AACxC,cAAMM,QAAQZ,EAAE,IAAF,CAAd;AACAA,YAAE,sBAAF,EAA0Ba,WAA1B,CAAsC,+BAAtC;;AAEA,cAAID,MAAMF,IAAN,CAAW,eAAX,MAAgC,MAApC,EAA4C;AAC1CE,kBAAMF,IAAN,CAAW,eAAX,EAA4B,OAA5B;AACD,WAFD,MAEO;AACLE,kBAAMF,IAAN,CAAW,eAAX,EAA4B,MAA5B;AACD;AACDJ,gBAAMQ,cAAN;AACD,SAVD;;AAYF;AACC,OAlBD,MAkBO;AACLP,gBAAQC,GAAR,CAAY,SAAZ;AACAN,sBAAca,UAAd,CAAyB,eAAzB;AACAb,sBAAcc,GAAd,CAAkB,OAAlB;AACD;AACF,KA3BD;;AA6BA;AACA,QAAMC,MAAMC,WAAW,oBAAX,CAAZ;AACA;AACAb,iBAAaY,GAAb;AACA;AACAA,QAAIE,WAAJ,CAAgBd,YAAhB;AAED,GA7CD;AA+CD,CAlDD,EAkDIe,MAlDJ","file":"ucsf_header_region_subnav.js","sourcesContent":["(($ => {\n\n  // Wait for the document to be ready.\n  $(() => {\n    // wrapper for all header elements\n    const $header = $('.combined-header-region');\n    // toggle element for expanding the subnav\n    const $subnavToggle = $('.header-subnav__toggle');\n    // add class for css styling\n    $header.has('.header-subnav-wrapper').addClass('combined-header-region--has-subnav');\n\n    // Only execute subnav extend / collapse code in mobile\n    const mobileDetect = (event) => {\n      console.log(\"made it\");\n\n      // Mobile\n      if (event.matches) {\n        $subnavToggle.attr('aria-expanded', 'false');\n        console.log(\"mobile\");\n\n        // toggle mobile subnav menu open and closed\n        $subnavToggle.on('click', function(event) {\n          const $this = $(this);\n          $('.header-subnav__menu').toggleClass('header-subnav__menu--expanded');\n\n          if ($this.attr('aria-expanded') === 'true') {\n            $this.attr('aria-expanded', 'false');\n          } else {\n            $this.attr('aria-expanded', 'true');\n          }\n          event.preventDefault();\n        });\n\n      // Desktop\n      } else {\n        console.log(\"desktop\")\n        $subnavToggle.removeAttr('aria-expanded');\n        $subnavToggle.off('click');\n      }\n    }\n\n    // Use MatchMedia to ensure that subnav expand/collapse is only happening in mobile\n    const mql = matchMedia('(max-width: 849px)');\n    // Detect mobile on page load.\n    mobileDetect(mql);\n    // Watch to see if the page size changes.\n    mql.addListener(mobileDetect);\n\n  });\n\n}))(jQuery);\n"]}