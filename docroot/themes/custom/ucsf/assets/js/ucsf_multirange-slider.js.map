{"version":3,"sources":["ucsf_multirange-slider.js"],"names":["$","currentYear","Date","getFullYear","currentMinValue","currentMaxValue","$publicationRange","slider","range","min","max","step","values","slide","event","ui","text","publicationMin","publicationMax","handleMin","first","attr","yearLabelMin","append","handleMax","last","yearLabelMax","trackLabel","jQuery"],"mappings":";;AAAA,CAAE,aAAK;AACL;AACAA,IAAE,YAAM;AACN;AACA;AACA,QAAMC,cAAc,IAAIC,IAAJ,GAAWC,WAAX,EAApB;AACA,QAAIC,kBAAkB,IAAtB;AACA,QAAIC,kBAAkBJ,WAAtB;;AAEA;AACA,QAAMK,oBAAoBN,EAAE,oBAAF,CAA1B;AACAM,sBAAkBC,MAAlB,CAAyB;AACvBC,aAAM,IADiB;AAEvBC,WAAK,IAFkB;AAGvBC,WAAKT,WAHkB;AAIvBU,YAAM,CAJiB;AAKvBC,cAAQ,CAACR,eAAD,EAAkBC,eAAlB,CALe;;AAOvB;AACAQ,aAAO,eAAUC,KAAV,EAAiBC,EAAjB,EAAsB;AAC3BX,0BAAkBW,GAAGH,MAAH,CAAU,CAAV,CAAlB;AACAP,0BAAkBU,GAAGH,MAAH,CAAU,CAAV,CAAlB;AACA;AACAZ,UAAE,YAAF,EAAgBgB,IAAhB,CAAqBZ,eAArB;AACAJ,UAAE,YAAF,EAAgBgB,IAAhB,CAAqBX,eAArB;AAED;AAfsB,KAAzB;;AAkBA,QAAMY,iBAAiBX,kBAAkBC,MAAlB,CAAyB,QAAzB,EAAmC,KAAnC,CAAvB;AACA,QAAMW,iBAAiBZ,kBAAkBC,MAAlB,CAAyB,QAAzB,EAAmC,KAAnC,CAAvB;;AAEA;AACA,QAAMY,YAAYnB,EAAE,mBAAF,EAAuBoB,KAAvB,EAAlB;AACAD,cAAUE,IAAV,CAAe;AACb,qBAAc;AADD,KAAf;;AAIA;AACA,QAAMC,mLAKAlB,eALA,oBAAN;AAOAe,cAAUI,MAAV,CAAiBD,YAAjB;;AAGA;AACA,QAAME,YAAYxB,EAAE,mBAAF,EAAuByB,IAAvB,EAAlB;AACAD,cAAUH,IAAV,CAAe;AACb,qBAAc;AADD,KAAf;;AAIA;AACA,QAAMK,mLAKArB,eALA,oBAAN;AAOAmB,cAAUD,MAAV,CAAiBG,YAAjB;;AAEA;AACA;AACA,QAAMC,6JAGMV,cAHN,kFAKMC,cALN,wBAAN;AAOAlB,MAAE,oBAAF,EAAwBuB,MAAxB,CAA+BI,UAA/B;AACA;AACD,GA1ED;AA2ED,CA7ED,EA6EIC,MA7EJ","file":"ucsf_multirange-slider.js","sourcesContent":["(($ => {\n  // Wait for the document to be ready.\n  $(() => {\n    // PUBLICATION YEAR MULTIRANGE SLIDER START\n    // Default values for min and max publication year handles\n    const currentYear = new Date().getFullYear();\n    let currentMinValue = 2019;\n    let currentMaxValue = currentYear;\n\n    // JQUERY SLIDER UI OBJECT https://api.jqueryui.com/slider/#event-slide\n    const $publicationRange = $('.publication-range');\n    $publicationRange.slider({\n      range:true,\n      min: 2000,\n      max: currentYear,\n      step: 1,\n      values: [currentMinValue, currentMaxValue],\n\n      // Triggered on every mouse move during slide\n      slide: function( event, ui ) {\n        currentMinValue = ui.values[0];\n        currentMaxValue = ui.values[1];\n        // Update floating labels for handles\n        $('.min-limit').text(currentMinValue);\n        $('.max-limit').text(currentMaxValue);\n\n      },\n    });\n\n    const publicationMin = $publicationRange.slider(\"option\", \"min\");\n    const publicationMax = $publicationRange.slider(\"option\", \"max\");\n\n    // Minimum Publication Year handle\n    const handleMin = $('.ui-slider-handle').first();\n    handleMin.attr({\n      'data-testid':'puplication-year-min',\n    });\n\n    // Create floating labe for Minimum Publication Year handle\n    const yearLabelMin =\n      `<span class='ui-slider__handle-label min-limit'>\n        <span class='visually-hidden'>\n          Minimum year of publication:\n        </span>\n        ${currentMinValue}\n      </span>`;\n    handleMin.append(yearLabelMin);\n\n\n    // Maximum Publication Year handle\n    const handleMax = $('.ui-slider-handle').last();\n    handleMax.attr({\n      'data-testid':'puplication-year-max',\n    });\n\n    // Create floating label for Maximum Publication Year handle\n    const yearLabelMax =\n      `<span class='ui-slider__handle-label max-limit'>\n        <span class='visually-hidden'>\n          Maximum year of publication:\n        </span>\n        ${currentMaxValue}\n      </span>`;\n    handleMax.append(yearLabelMax);\n\n    // TRACK FOR RANGE SLIDER\n    // Label for the range track\n    const trackLabel =\n      `<p class='ui-slider__track-label'>\n        <span class='visually-hidden'>Available publication years range from</span>\n        <span>${publicationMin}</span>\n        <span class='visually-hidden'>to</span>\n        <span>${publicationMax}</span>\n      </p>`;\n    $('.publication-range').append(trackLabel);\n    // PUBLICATION YEAR MULTIRANGE SLIDER END\n  });\n}))(jQuery);\n"]}