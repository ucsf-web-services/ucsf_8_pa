{"version":3,"sources":["ucsf_news_search.js"],"names":["$","Drupal","behaviors","search_news","attach","context","click","openAdvancedFilter","siblings","toggleClass","dateFocus","removeClass","setTimeout","focus","removeFilter","filter_item","filter_id","attr","prop","submit","length","document","ready","slider","min","max","step","values","slide","event","ui","i","val","$handle","first","addClass","last","waypoint","handler","direction","offset","jQuery"],"mappings":"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","file":"ucsf_news_search.js","sourcesContent":["/* eslint-disable */\n(function ($) {\n  Drupal.behaviors.search_news = {\n    attach: function (context) {\n\n      // Toggle Advanced Filter by Advanced Filter Icon.\n      $(\".search-filter__advanced\", context).click(function() {\n        openAdvancedFilter();\n      });\n\n      // Toggle Subcategory by Label.\n      $(\".search-filter__dropdown legend\", context).click(function() {\n        $(this).siblings(\".fieldset-wrapper\").toggleClass('js-search_filter__category-open');\n      });\n\n      $(\"#edit-field-primary-area-target-id-1006\", context).click(function() {\n        $(\"#edit-field-primary-area-target-id-1016\", context).click();\n        $(\"#edit-field-primary-area-target-id-1011\", context).click();\n        $(\"#edit-field-primary-area-target-id-1021\", context).click();\n        $(\"#edit-field-primary-area-target-id-1026\", context).click();\n      });\n\n      // Toggle Advanced Filter and Focus on Date input by Date Change link.\n      $(\".search-filter__advanced-date\", context).click(function() {\n        openAdvancedFilter(true);\n      });\n\n      // Toggle Advanced Filter Function.\n      function openAdvancedFilter(dateFocus) {\n        $(\".search-filter__dropdown\").toggleClass('js-search_filter__dropdown-open');\n        $(\".search-filter__top\").toggleClass('js-search_filter__top-open');\n        $(\".fieldset-wrapper\").removeClass('js-search_filter__category-open');\n        $(\"body\").toggleClass('js-search_filter__is-open');\n\n        if (dateFocus == true) {\n          setTimeout(function() {\n              $('[data-drupal-selector=\"edit-field-date-and-time-value-1\"]').focus();\n            }, 350);\n        }\n      }\n\n      // Remove filter using filter indicators.\n      function removeFilter() {\n        const filter_item = $('.search-filter__indicator-item');\n\n        filter_item.click(function () {\n          const filter_id = $(this).attr('data-tid');\n\n          // Uncheck term filter.\n          $('[value=\"' + filter_id + '\"]').prop(\"checked\", false);\n\n          // Submit filter.\n          $('[block=\"block-exposedformnews-filterpage-1\"]').submit();\n        })\n\n        // Hide label if there are no active filters.\n        if (filter_item.length > 0) {\n          // console.log(filter_item);\n          $('.search-filter__indicator-list label').removeClass('visually-hidden')\n        }\n      }\n\n      // MULTIRANGE SLIDER START\n      $(document).ready(function() {\n        $(\"#slider\").slider({\n            min: 0,\n            max: 100,\n            step: 1,\n            values: [10, 90],\n            slide: function(event, ui) {\n                for (var i = 0; i < ui.values.length; ++i) {\n                    $(\"input.sliderValue[data-index=\" + i + \"]\").val(ui.values[i]);\n                }\n            },\n        });\n        const $handle = $(\".ui-slider-handle\", slider);\n        $handle.first().addClass(\"multirange__handle publication-range__handle\");\n        $handle.first().attr({\n          'data-value': 'min',\n          'data-testid':'puplication-year-min'\n        })\n        $handle.last().addClass(\"multirange__handle publication-range__handle\");\n        $handle.last().attr({\n          'data-value': 'max',\n          'data-testid':'puplication-year-max'\n        })\n        // $(\"input.sliderValue\").change(function() {\n        //     var $this = $(this);\n        //     $(\"#slider\").slider(\"values\", $this.data(\"index\"), $this.val());\n        // });\n      });\n      // MULTIRANGE SLIDER END\n\n      removeFilter();\n    }\n  };\n\n  $(function() {\n      var waypoint = $('#edit-count').waypoint({\n          handler: function (direction) {\n\n                  if (direction == 'down') {\n                      $('.block-views-exposed-filter-blocknews-filter-page-1').addClass('scrolled');\n                  } else {\n                      $('.block-views-exposed-filter-blocknews-filter-page-1').removeClass('scrolled');\n                  }\n          },\n          offset: '0%'\n      });\n  });\n\n})(jQuery);\n"]}