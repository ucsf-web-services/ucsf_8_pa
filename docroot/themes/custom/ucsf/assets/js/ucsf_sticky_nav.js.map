{"version":3,"sources":["ucsf_sticky_nav.js"],"names":["$","toolbar","document","querySelector","header","headerNav","lastScroll","headerNavHeight","offsetHeight","root","documentElement","style","setProperty","headerTop","headerNavY","headerBottomY","headerFixedBottomY","window","addEventListener","currentScroll","pageYOffset","classList","remove","contains","add","jQuery"],"mappings":";;AAAA,CAAE,aAAK;;AAEL;AACAA,IAAE,YAAM;;AAEN;AACA,QAAMC,UAAUC,SAASC,aAAT,CAAuB,yBAAvB,CAAhB;AACA,QAAIF,OAAJ,EAAa;AACX;AACD;;AAED;AACA,QAAMG,SAASF,SAASC,aAAT,CAAuB,yBAAvB,CAAf;AACA,QAAME,YAAYH,SAASC,aAAT,CAAuB,wBAAvB,CAAlB;AACA,QAAIG,aAAa,CAAjB;;AAEA;AACA,QAAMC,kBAAkBF,UAAUG,YAAlC;;AAEA;AACA,QAAMC,OAAOP,SAASQ,eAAtB;AACAD,SAAKE,KAAL,CAAWC,WAAX,CAAuB,cAAvB,EAAuCL,kBAAkB,IAAzD;;AAEA,QAAMM,YAAYX,SAASC,aAAT,CAAuB,0BAAvB,CAAlB;AACA,QAAMW,aAAaD,UAAUL,YAA7B;;AAEA;AACA,QAAMO,gBAAgBR,kBAAkBO,UAAxC;AACA,QAAME,qBAAqB,KAAKF,UAAhC,CAzBM,CAyBsC;;AAE5C;AACA;AACAG,WAAOC,gBAAP,CAAwB,QAAxB,EAAkC,YAAM;AACtC,UAAMC,gBAAgBF,OAAOG,WAA7B;;AAEA;AACA;AACA;AACA,UAAID,gBAAgBL,UAApB,EAAgC;AAC9BV,eAAOiB,SAAP,CAAiBC,MAAjB,CAAwB,WAAxB,EAAqC,oBAArC,EAA2D,mBAA3D;AACA;AACD;;AAED;AACA;AACA,UAAIH,gBAAgB,GAApB,EAAyB;AACvB;AACA,YAAIA,gBAAgBb,UAApB,EAAgC;AAC9B,cAAI,CAACF,OAAOiB,SAAP,CAAiBE,QAAjB,CAA0B,uBAA1B,CAAL,EAAyD;AACvDnB,mBAAOiB,SAAP,CAAiBG,GAAjB,CAAqB,mBAArB;AACApB,mBAAOiB,SAAP,CAAiBC,MAAjB,CAAwB,oBAAxB;AACD;AACH;AACC,SAND,MAMO;AACLlB,iBAAOiB,SAAP,CAAiBC,MAAjB,CAAwB,mBAAxB,EAA6C,uBAA7C;AACAlB,iBAAOiB,SAAP,CAAiBG,GAAjB,CAAqB,WAArB,EAAkC,oBAAlC;AACD;AACF,OAZD,MAYO,IAAIL,gBAAgBJ,aAApB,EAAmC;AACxC,YAAI,CAACX,OAAOiB,SAAP,CAAiBE,QAAjB,CAA0B,WAA1B,CAAL,EAA6C;AAC3CnB,iBAAOiB,SAAP,CAAiBG,GAAjB,CAAqB,WAArB,EAAkC,uBAAlC;AACD;AACF,OAJM,MAIA,IAAIL,gBAAgBH,kBAApB,EAAwC;AAC7C,YAAIZ,OAAOiB,SAAP,CAAiBE,QAAjB,CAA0B,uBAA1B,CAAJ,EAAwD;AACtDnB,iBAAOiB,SAAP,CAAiBC,MAAjB,CAAwB,WAAxB,EAAqC,uBAArC;AACD;AACF;;AAEDhB,mBAAaa,aAAb;AACD,KApCD;AAsCD,GAnED;AAoED,CAvED,EAuEIM,MAvEJ","file":"ucsf_sticky_nav.js","sourcesContent":["(($ => {\n\n  // Wait for the document to be ready.\n  $(() => {\n\n    // Exit if the admin toolbar is present.\n    const toolbar = document.querySelector('#toolbar-administration');\n    if (toolbar) {\n      return;\n    }\n\n    // Toggle the .is-fixed class on scroll.\n    const header = document.querySelector('.combined-header-region')\n    const headerNav = document.querySelector('.header-region .header')\n    let lastScroll = 0;\n\n    // Get element height\n    const headerNavHeight = headerNav.offsetHeight;\n\n    // Set root variable of nav-height\n    const root = document.documentElement;\n    root.style.setProperty('--nav-height', headerNavHeight + \"px\")\n\n    const headerTop = document.querySelector('.universal-header-region');\n    const headerNavY = headerTop.offsetHeight;\n\n    // Get the bottom Y coordinate of the Header.\n    const headerBottomY = headerNavHeight + headerNavY;\n    const headerFixedBottomY = 60 + headerNavY; // 60 is the height of the fixed-nav\n\n    // calculate weather user is scrolling up or down\n    // to reveal full navbar on up scroll\n    window.addEventListener(\"scroll\", () => {\n      const currentScroll = window.pageYOffset;\n\n      // make nav fixed only when user scrolled past navigation.\n      // In other words, put the navigation back to its noraml\n      // spot.\n      if (currentScroll < headerNavY) {\n        header.classList.remove('fixed-nav', 'fixed-nav--visible', 'fixed-nav--hidden');\n        return;\n      }\n\n      // Ignore scrolling until 400px below so that it doesn't\n      // mess with the navigation in its normal position.\n      if (currentScroll > 400) {\n        // If scrolling down\n        if (currentScroll > lastScroll) {\n          if (!header.classList.contains('fixed-nav--pre-hidden')) {\n            header.classList.add('fixed-nav--hidden');\n            header.classList.remove('fixed-nav--visible');\n          }\n        // If scrolling up\n        } else {\n          header.classList.remove('fixed-nav--hidden', 'fixed-nav--pre-hidden');\n          header.classList.add('fixed-nav', 'fixed-nav--visible');\n        }\n      } else if (currentScroll > headerBottomY) {\n        if (!header.classList.contains('fixed-nav')) {\n          header.classList.add('fixed-nav', 'fixed-nav--pre-hidden');\n        }\n      } else if (currentScroll < headerFixedBottomY) {\n        if (header.classList.contains('fixed-nav--pre-hidden')) {\n          header.classList.remove('fixed-nav', 'fixed-nav--pre-hidden');\n        }\n      }\n\n      lastScroll = currentScroll;\n    });\n\n  });\n}))(jQuery);\n"]}