{"version":3,"sources":["ucsf_universal_search.js"],"names":["$","drupalSettings","once","Drupal","behaviors","mobileUniversalSearch","attach","context","settings","waypoint","handler","direction","addClass","removeClass","offset","mobileAdvanced","click","e","preventDefault","hasClass","option","val","attr","submit","jQuery"],"mappings":";;AAAA;;;AAGA,CAAC,UAAUA,CAAV,EAAaC,cAAb,EAA6BC,IAA7B,EAAmC;;AAEhC;;;AAGAC,WAAOC,SAAP,CAAiBC,qBAAjB,GAAyC;AACrCC,gBAAQ,gBAAUC,OAAV,EAAmBC,QAAnB,EAA6B;;AAEjC,gBAAIC,WAAWT,EAAE,uBAAF,EAA2BO,OAA3B,EAAoCE,QAApC,CAA6C;AACxDC,yBAAS,iBAAUC,SAAV,EAAqB;;AAGtB,wBAAIA,aAAa,MAAjB,EAAyB;AACrBX,0BAAE,uBAAF,EAA2BY,QAA3B,CAAoC,UAApC;AACH,qBAFD,MAEO;AACHZ,0BAAE,uBAAF,EAA2Ba,WAA3B,CAAuC,UAAvC;AACH;AAER,iBAVuD;AAWxDC,wBAAQ;AACR;AAZwD,aAA7C,CAAf;AAcH;AAjBoC,KAAzC;;AAoBAX,WAAOC,SAAP,CAAiBW,cAAjB,GAAkC;;AAE9BT,gBAAQ,gBAASC,OAAT,EAAkBC,QAAlB,EAA4B;;AAEhCR,cAAE,+BAAF,EAAmCO,OAAnC,EAA4CS,KAA5C,CAAkD,UAASC,CAAT,EAAY;AAC1DA,kBAAEC,cAAF;AACA,oBAAIlB,EAAE,IAAF,EAAQmB,QAAR,CAAiB,QAAjB,CAAJ,EAAgC;AAC5BnB,sBAAE,gCAAF,EAAoCa,WAApC,CAAgD,QAAhD;AACAb,sBAAE,IAAF,EAAQa,WAAR,CAAoB,QAApB;AACH,iBAHD,MAGO;AACHb,sBAAE,gCAAF,EAAoCY,QAApC,CAA6C,QAA7C;AACAZ,sBAAE,IAAF,EAAQY,QAAR,CAAiB,QAAjB;AACH;AACJ,aATD;;AAWAZ,cAAE,oCAAF,EAAwCO,OAAxC,EAAiDS,KAAjD,CAAuD,UAASC,CAAT,EAAY;AAC/DA,kBAAEC,cAAF;AACA,oBAAIE,SAASpB,EAAE,oCAAF,EAAwCqB,GAAxC,EAAb;AACArB,kBAAE,mBAAF,EAAuBsB,IAAvB,CAA4B,QAA5B,EAAsC,YAAUF,MAAhD;AACApB,kBAAE,mBAAF,EAAuBuB,MAAvB;AACH,aALD;;AAQAvB,cAAEE,KAAK,gBAAL,EAAuB,uBAAvB,EAAgDK,OAAhD,CAAF,EAA4DS,KAA5D,CAAkE,UAASC,CAAT,EAAY;AAC1EA,kBAAEC,cAAF;AACA,oBAAIlB,EAAE,IAAF,EAAQmB,QAAR,CAAiB,QAAjB,CAAJ,EAAgC;AAC5BnB,sBAAE,oBAAF,EAAwBa,WAAxB,CAAoC,QAApC;AACAb,sBAAE,iBAAF,EAAqBa,WAArB,CAAiC,uBAAjC;AACAb,sBAAE,IAAF,EAAQa,WAAR,CAAoB,QAApB;AACH,iBAJD,MAIO;AACHb,sBAAE,oBAAF,EAAwBY,QAAxB,CAAiC,QAAjC;AACAZ,sBAAE,iBAAF,EAAqBY,QAArB,CAA8B,uBAA9B;AACAZ,sBAAE,IAAF,EAAQY,QAAR,CAAiB,QAAjB;AACH;AACJ,aAXD;AAYH;;AAnC6B,KAAlC;AAuCH,CAhED,EAgEGY,MAhEH,EAgEWvB,cAhEX,EAgE2BC,IAhE3B","file":"ucsf_universal_search.js","sourcesContent":["/**\n * Created by eguerin on 4/7/19.\n */\n(function ($, drupalSettings, once) {\n\n    /**\n     * Use this behavior as a template for custom Javascript.\n     */\n    Drupal.behaviors.mobileUniversalSearch = {\n        attach: function (context, settings) {\n\n            var waypoint = $('.gsc-result-info__new', context).waypoint({\n                handler: function (direction) {\n\n\n                        if (direction == 'down') {\n                            $('.search-box-container').addClass('scrolled');\n                        } else {\n                            $('.search-box-container').removeClass('scrolled');\n                        }\n\n                },\n                offset: '0%'\n                //context: '.results-wrapper',\n            });\n        }\n    };\n\n    Drupal.behaviors.mobileAdvanced = {\n\n        attach: function(context, settings) {\n\n            $('#home-search-button__advanced', context).click(function(e) {\n                e.preventDefault();\n                if ($(this).hasClass('active')) {\n                    $('.search-box-container fieldset').removeClass('active');\n                    $(this).removeClass('active');\n                } else {\n                    $('.search-box-container fieldset').addClass('active');\n                    $(this).addClass('active');\n                }\n            });\n\n            $('.home-search__form-submit-advanced', context).click(function(e) {\n                e.preventDefault();\n                var option = $('input[name=\"searchSelect\"]:checked').val();\n                $('#universal-search').attr('action', '/search'+option);\n                $('#universal-search').submit();\n            });\n\n\n            $(once('mobileAdvanced', '.mobile-search-reveal', context)).click(function(e) {\n                e.preventDefault();\n                if ($(this).hasClass('active')) {\n                    $('.home-search__form').removeClass('active');\n                    $('.header--search').removeClass('header--search-active');\n                    $(this).removeClass('active');\n                } else {\n                    $('.home-search__form').addClass('active');\n                    $('.header--search').addClass('header--search-active');\n                    $(this).addClass('active');\n                }\n            });\n        }\n\n    };\n\n})(jQuery, drupalSettings, once);\n"]}