{"version":3,"sources":["ucsf_vertical_tabs.js"],"names":["$","Drupal","behaviors","verticalTabs","attach","context","settings","mediaQuery","window","matchMedia","accordionElement","tabsElement","accordionTitles","tabsTitles","accordionActive","tabsActive","addListener","tabAccordionSwitch","matches","show","hide","length","accordion","createTabs","tabs","createAccordion","removeClass","header","active","collapsible","beforeActivate","event","ui","newHeader","currHeader","currContent","next","oldHeader","isPanelSelected","attr","toggleClass","toString","children","slideUp","slideDown","addClass","on","href","history","replaceState","jQuery"],"mappings":"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","file":"ucsf_vertical_tabs.js","sourcesContent":["/* eslint-disable */\n(function ($) {\n\n  Drupal.behaviors.verticalTabs = {\n    attach: function (context, settings) {\n\n      var mediaQuery = window.matchMedia('(min-width: 850px)');\n      var accordionElement = $(\".js-accordion\");\n      var tabsElement = $(\".js-tabs\");\n      var accordionTitles = $(\".js-accordion > h3\");\n      var tabsTitles = $(\".vertical-tab__title\");\n      var accordionActive = $('.ui-accordion');\n      var tabsActive = $('.ui-tabs');\n\n      mediaQuery.addListener(tabAccordionSwitch);\n\n      function tabAccordionSwitch(mediaQuery) {\n\n        // If large screen.\n        if (mediaQuery.matches) {\n\n          // Show/hide headers.\n          tabsTitles.show();\n          accordionTitles.hide();\n\n          // Destroy accordion if it exists.\n          if (accordionActive.length > 0) {\n            accordionElement.accordion('destroy');\n            createTabs();\n          } else {\n            createTabs();\n          }\n\n        // If small screen.\n        } else {\n\n          // Show/hide headers.\n          tabsTitles.hide();\n          accordionTitles.show();\n\n          // Destroy tabs if they exist.\n          if (tabsActive.length > 0) {\n            tabsElement.tabs('destroy')\n            createAccordion()\n          } else {\n            createAccordion()\n          }\n\n          // Remove style elements for\n          tabsElement.removeClass('layout-left-30-70');\n        }\n      }\n\n      function createAccordion() {\n        accordionElement.accordion({\n          header: \".js-accordion-header\",\n          active: false,\n          collapsible: true,\n\n          beforeActivate: function(event, ui) {\n               // The accordion believes a panel is being opened\n              if (ui.newHeader[0]) {\n                  var currHeader  = ui.newHeader;\n                  var currContent = currHeader.next('.ui-accordion-content');\n               // The accordion believes a panel is being closed\n              } else {\n                  var currHeader  = ui.oldHeader;\n                  var currContent = currHeader.next('.ui-accordion-content');\n              }\n               // Since we've changed the default behavior, this detects the actual status\n              var isPanelSelected = currHeader.attr('aria-selected') == 'true';\n\n               // Toggle the panel's header\n              currHeader.toggleClass('ui-corner-all',isPanelSelected).toggleClass('ui-accordion-header-active ui-state-active ui-corner-top',!isPanelSelected).attr('aria-selected',((!isPanelSelected).toString()));\n\n              // Toggle the panel's icon\n              currHeader.children('.ui-icon').toggleClass('ui-icon-triangle-1-e',isPanelSelected).toggleClass('ui-icon-triangle-1-s',!isPanelSelected);\n\n               // Toggle the panel's content\n              currContent.toggleClass('accordion-content-active',!isPanelSelected);\n              if (isPanelSelected) { currContent.slideUp(); }  else { currContent.slideDown(); }\n\n              return false; // Cancels the default action\n          }\n        })\n      }\n\n      function createTabs() {\n        tabsElement.tabs().addClass(\n          'ui-helper-clearfix layout-left-30-70'\n        );\n      }\n\n      tabAccordionSwitch(mediaQuery);\n\n      // Select a link inside tablist and update url when it is clicked.\n      // Passing context to prevent multiple bindings.\n      $('.js-tablist a, .js-accordion-header', context).on('click', function() {\n        // Update url.\n        const href = $(this).attr(\"href\");\n        history.replaceState(null, null, href);\n      });\n\n    }\n  };\n\n})(jQuery);\n"]}