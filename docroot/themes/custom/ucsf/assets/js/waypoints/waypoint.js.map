{"version":3,"sources":["waypoints/waypoint.js"],"names":["keyCounter","allWaypoints","Waypoint","options","Error","element","handler","key","Adapter","extend","defaults","adapter","callback","axis","horizontal","enabled","triggerPoint","group","Group","findOrCreate","name","context","Context","findOrCreateByElement","offsetAliases","offset","add","prototype","queueTrigger","direction","trigger","args","apply","destroy","remove","disable","enable","refresh","next","previous","invokeAll","method","allWaypointsArray","waypointKey","push","i","end","length","destroyAll","disableAll","enableAll","refreshAll","viewportHeight","window","innerHeight","document","documentElement","clientHeight","viewportWidth","clientWidth","adapters","continuous","outerHeight","innerWidth","outerWidth"],"mappings":"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","file":"waypoint.js","sourcesContent":["(function() {\n  'use strict'\n\n  var keyCounter = 0\n  var allWaypoints = {}\n\n  /* http://imakewebthings.com/waypoints/api/waypoint */\n  function Waypoint(options) {\n    if (!options) {\n      throw new Error('No options passed to Waypoint constructor')\n    }\n    if (!options.element) {\n      throw new Error('No element option passed to Waypoint constructor')\n    }\n    if (!options.handler) {\n      throw new Error('No handler option passed to Waypoint constructor')\n    }\n\n    this.key = 'waypoint-' + keyCounter\n    this.options = Waypoint.Adapter.extend({}, Waypoint.defaults, options)\n    this.element = this.options.element\n    this.adapter = new Waypoint.Adapter(this.element)\n    this.callback = options.handler\n    this.axis = this.options.horizontal ? 'horizontal' : 'vertical'\n    this.enabled = this.options.enabled\n    this.triggerPoint = null\n    this.group = Waypoint.Group.findOrCreate({\n      name: this.options.group,\n      axis: this.axis\n    })\n    this.context = Waypoint.Context.findOrCreateByElement(this.options.context)\n\n    if (Waypoint.offsetAliases[this.options.offset]) {\n      this.options.offset = Waypoint.offsetAliases[this.options.offset]\n    }\n    this.group.add(this)\n    this.context.add(this)\n    allWaypoints[this.key] = this\n    keyCounter += 1\n  }\n\n  /* Private */\n  Waypoint.prototype.queueTrigger = function(direction) {\n    this.group.queueTrigger(this, direction)\n  }\n\n  /* Private */\n  Waypoint.prototype.trigger = function(args) {\n    if (!this.enabled) {\n      return\n    }\n    if (this.callback) {\n      this.callback.apply(this, args)\n    }\n  }\n\n  /* Public */\n  /* http://imakewebthings.com/waypoints/api/destroy */\n  Waypoint.prototype.destroy = function() {\n    this.context.remove(this)\n    this.group.remove(this)\n    delete allWaypoints[this.key]\n  }\n\n  /* Public */\n  /* http://imakewebthings.com/waypoints/api/disable */\n  Waypoint.prototype.disable = function() {\n    this.enabled = false\n    return this\n  }\n\n  /* Public */\n  /* http://imakewebthings.com/waypoints/api/enable */\n  Waypoint.prototype.enable = function() {\n    this.context.refresh()\n    this.enabled = true\n    return this\n  }\n\n  /* Public */\n  /* http://imakewebthings.com/waypoints/api/next */\n  Waypoint.prototype.next = function() {\n    return this.group.next(this)\n  }\n\n  /* Public */\n  /* http://imakewebthings.com/waypoints/api/previous */\n  Waypoint.prototype.previous = function() {\n    return this.group.previous(this)\n  }\n\n  /* Private */\n  Waypoint.invokeAll = function(method) {\n    var allWaypointsArray = []\n    for (var waypointKey in allWaypoints) {\n      allWaypointsArray.push(allWaypoints[waypointKey])\n    }\n    for (var i = 0, end = allWaypointsArray.length; i < end; i++) {\n      allWaypointsArray[i][method]()\n    }\n  }\n\n  /* Public */\n  /* http://imakewebthings.com/waypoints/api/destroy-all */\n  Waypoint.destroyAll = function() {\n    Waypoint.invokeAll('destroy')\n  }\n\n  /* Public */\n  /* http://imakewebthings.com/waypoints/api/disable-all */\n  Waypoint.disableAll = function() {\n    Waypoint.invokeAll('disable')\n  }\n\n  /* Public */\n  /* http://imakewebthings.com/waypoints/api/enable-all */\n  Waypoint.enableAll = function() {\n    Waypoint.Context.refreshAll()\n    for (var waypointKey in allWaypoints) {\n      allWaypoints[waypointKey].enabled = true\n    }\n    return this\n  }\n\n  /* Public */\n  /* http://imakewebthings.com/waypoints/api/refresh-all */\n  Waypoint.refreshAll = function() {\n    Waypoint.Context.refreshAll()\n  }\n\n  /* Public */\n  /* http://imakewebthings.com/waypoints/api/viewport-height */\n  Waypoint.viewportHeight = function() {\n    return window.innerHeight || document.documentElement.clientHeight\n  }\n\n  /* Public */\n  /* http://imakewebthings.com/waypoints/api/viewport-width */\n  Waypoint.viewportWidth = function() {\n    return document.documentElement.clientWidth\n  }\n\n  Waypoint.adapters = []\n\n  Waypoint.defaults = {\n    context: window,\n    continuous: true,\n    enabled: true,\n    group: 'default',\n    horizontal: false,\n    offset: 0\n  }\n\n  Waypoint.offsetAliases = {\n    'bottom-in-view': function() {\n      return this.context.innerHeight() - this.adapter.outerHeight()\n    },\n    'right-in-view': function() {\n      return this.context.innerWidth() - this.adapter.outerWidth()\n    }\n  }\n\n  window.Waypoint = Waypoint\n}())\n"]}