/*------------------------------------*\
  # Legacy content styles.
\*------------------------------------*/
// This file only loads if article's created date is before 2019.
// Moved the styles here from:
// _align-legacy.scss
// _blockquote.scss
// _callout.scss
// _node-article.scss

@import '../../node_modules/breakpoint-sass/stylesheets/breakpoint';
@import '../tools/variables';
@import '../tools/variables-pl';
@import '../tools/variables-space';
@import '../tools/mixins-pl';
@import '../tools/mixins-font-styles';

// testing that file loads.
// body * {
//   color: red !important;
// }


/*---------------In this section---------------------*\
  IMAGES / VIDEO
\*---------------------------------------------------*/
@mixin force-full-width-mobile {
  // disregard inline width in mobile
  @include breakpoint($new-small-max) {
    width: 100% !important;
    margin-left: 0;
    margin-right: 0;

    img {
      width: 100%;
    }
  }
}

.image-2014_wysiwyg_full,
.ckimagebox {
  p {
    font-size: $font-size-xsm;
    color: $gray-blue;
    padding-top: $space-double;
    font-family: $font-helvetica-neue-roman;
    font-weight: 500;
    line-height: 1.6em;
    margin: 0;
  }
}

figure.image-2014_inline_2-col,
figure.image-2014_inline_4-col,
figure.image-2014_inline_5-col,
.image-2014_wysiwyg_full {
  @include force-full-width-mobile();
  display:table;
  margin: $space-five;
  margin-top: 0;
  margin-bottom: $space-quadruple;

  figcaption {
    display:table-caption;
    caption-side:bottom;
  }
}

.image-2014_wysiwyg_full,
.ckimagebox,
.wysiwyg-full,
.ckgreybox {
  &[style~="float:right"],
  &[style*="float:right"],
  &[style~="right;"],
  &[style~="float:right;"] {
    @include force-full-width-mobile();
    margin: $space-five;
    margin-right: 0;
    margin-top: 0;
    margin-bottom: $space-four;


    @include breakpoint($new-small) {
      margin-left: $space-ten;
    }
  }

  &[style~="float:left"],
  &[style*="float:left"],
  &[style~="left;"],
  &[style~="float:left;"] {
    @include force-full-width-mobile();
    margin: $space-five;
    margin-left: 0;
    margin-top: 0;
    margin-bottom: $space-four;

    @include breakpoint($new-small) {
      margin-right: $space-ten;
    }
  }
}

.image-2014_wysiwyg_full {
  margin-left: 0;
  margin-right: 0;
}

.size--half {
  width: 50%;
}

// Video
.video.article-full-width {
  margin: 0;
  background-color: $white;

  @include breakpoint($new-large) {
    grid-column: 2 / -2;
  }

  @include breakpoint($new-xl) {
    grid-column: 3 / -3;
  }
}

.article-full-width__space {
  content: ' ';
  display: block;
  background: $white;
  height: 0;

  @include breakpoint($new-small) {
    height: $space-five;
  }

  @include breakpoint($new-large) {
    grid-column: 2 / -2;
  }

  @include breakpoint($new-xl) {
    grid-column: 3 / -3;
  }
}

/*---------------In this section---------------------*\
  GRAYBOX
\*---------------------------------------------------*/
.ckgreybox {
  background-color: $c-background-gray;
  padding: $space-four;

  h3 {
    @include eyebrow;
  }
}

/*---------------In this section---------------------*\
  ALIGNED CTA
\*---------------------------------------------------*/
@each $direction in $align-directions {
  .align--#{$direction} {
    float: $direction;
    margin-#{$direction}: 0;
    margin-top: 0;

    @if $direction == left {
      margin-right: $space-ten;
    } @else {
      margin-left: $space-ten;
    }
  }
}

.about-cta-right {
  margin-top: 0;
  float: right;
  margin: $space-ten;
  margin-right: 0;

}


.wysiwyg_cta,
.about-cta {
  background: $c-background-gray;
  margin-top: 0;
  margin-bottom: $space-four;
  width: calc(100% + 20px);
  padding: $space-five;

  @include breakpoint($new-small) {
    padding: 80px 10%;
  }

  @each $direction in $align-directions {
    &.align--#{$direction}, &.about-cta-#{$direction} {
      margin-#{$direction}: -20px;

      @include breakpoint($new-small) {
        margin-#{$direction}: -20%;
        width: 50%;
      }

      @if $direction == left {
        margin-right: 0;

        @include breakpoint($new-small) {
          margin-right: 10%;
        }
      } @else {
        margin-left: 0;

        @include breakpoint($new-small) {
          margin-left: 10%;
        }
      }
    }
  }


  .wysiwyg_cta__image {
    padding-bottom: $space-three;
  }

  h3 {
    @include eyebrow;
  }

  .readmore {
    display: inline-block;
    background: url('../images/cta-arrow.svg') right center no-repeat transparent;
    background-size: 14px 10px;
    padding-right: $space-three;
    text-decoration: none;
    font-family: $font-helvetica-neue-medium;
  }
}

/*---------------In this section---------------------*\
  WYSIWYG LAYOUTS
\*---------------------------------------------------*/

.wysiwyg_twocols, .layout--50-50 {
  .wysiwyg_twocols--first, .wysiwyg_twocols--second {
    float: left;
    width: 48%;
    margin-right: 2%;
  }

  .wysiwyg_twocols--second {
    float: right;
    margin-right: 0;
  }
}

.wysiwyg_twocols {
  clear: both;
  float: left;
  width: 100%;
  margin-bottom: $space-five;

  &.layout--60-40 {
    .wysiwyg_twocols--first {
      width: 58%;
      margin-right: 2%;
    }

    .wysiwyg_twocols--second {
      width: 38%;
      margin-left: 2%;

      .cke-videolightbox-wrapper.align--right {
        margin: 0;
      }
    }
  }
}

/*---------------In this section---------------------*\
  BLOCKQUOTES
\*---------------------------------------------------*/
.ckpullquote,
.wysiwyg_quote {
  background: $background-gray;

  &--half-left,
  &--half-right,
  &.ckpullquote-left,
  &.ckpullquote-right,
  &.align--left,
  &.align--center {
    float: left;
    width: calc(100% + 20px);
    left: auto;
    padding-top: 0;
    margin-left: -20px;
    margin-right: 0;
    margin-top: 0;
  }

  .ckpullquote--quote,
  .wysiwyg_quote--content {
    @include fs-heading-blockquote;
    font-size: 31px;
    line-height: 1.2em;
    padding: $space-seven $space-ten 0 0;
    padding-right: 15%;
    margin-top: 0;

    &::before {
      content: 'â€œ ';
      display: inline-block;
      margin-left: -$space-three;
      padding-right: 12px;
      font-family: $font-granjon;

      @include breakpoint($new-x-small) {
        padding-right: $space;
      }
    }

    @include breakpoint($new-small-max) {
      padding-top: $space-five;
      padding-left: $space-five;
      padding-right: $space-five;
      padding-bottom: 0;
    }
  }

  .ckpullquote--author,
  .wysiwyg_quote--author {
    @include eyebrow;

    font-style: normal;
    padding-right: 15%;

    @include breakpoint($new-small-max) {
      padding-left: $space-five;
    }
  }

  .ckpullquote--org {
    font-size: 14px;
    padding-right: 15%;
  }

  &.ckpullquote-right,
  &.align--right {
    float: right;
    right: auto;
    margin-right: -20px;
    margin-left: 0;

    .ckpullquote--quote,
    .wysiwyg_quote--content {
      padding-right: 0;
      padding-left: 15%;

      @include breakpoint($new-small-max) {
        padding-top: $space-five;
        padding-left: $space-five;
        padding-right: $space-five;
        padding-bottom: 0;
      }
    }

    .ckpullquote--author,
    .ckpullquote--org,
    .wysiwyg_quote--author {
      padding-left: 15%;

      @include breakpoint($new-small-max) {
        padding-left: $space-five;
      }
    }
  }

  @include breakpoint($new-small) {

    &--half-left,
    &.ckpullquote-left,
    &.align--left,
    &.align--center {
      margin-left: -14%;
      margin-right: $space-ten;
      padding-left: 56px;
      width: 50%;
    }

    &--half-right,
    &.ckpullquote-right,
    &.align--right {
      margin-right: -14%;
      margin-left: $space-ten;
      padding-right: 56px;
      width: 50%;
    }
  }

  @include breakpoint($new-large) {

    &--half-left,
    &.ckpullquote-left,
    &.align--left,
    &.align--center {
      margin-left: -20%;
      padding-left: 0;
    }

    &--half-right,
    &.ckpullquote-right,
    &.align--right {
      margin-right: -20%;
      padding-right: 0;
    }
  }
}

.ckpullquote {
  padding-bottom: 50px;
  margin-bottom: 24px;
}


.ckpullquote--author,
.wysiwyg_quote--author {
  margin-top: 2rem;
}

.wysiwyg_quote {
  margin-bottom: $space-four;
}

.wysiwyg_quote--author {
  margin-bottom: 50px;
}

.wysiwyg_quote--org {
  margin-top: -55px;
  margin-bottom: 50px;
  font-size: 16px;
  padding-right: 15%;
  padding-left: 15%;
  @include breakpoint($new-small-max) {
    padding-left: $space-five;
    padding-right: $space-five;
  }
}

/*---------------In this section---------------------*\
  COLOR OVERWRITES
\*---------------------------------------------------*/
[style~="color:#8D8580"],
[style~="color:#729ABD"],
[style~="color:rgb(114, 154, 189)"],
[style="color:rgb(114, 154, 189)"] {
  color: $navy !important;
}
